<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div id="mainPane" class="main pane">
      <div class="top">
        <div class="header">
          <div class="title">
            <p>granblue.team</p>
            <h1>Data Extractor</h1>
          </div>
          <img
            id="avatar"
            class="avatar"
            src="https://siero-img.s3-us-west-2.amazonaws.com/profile/npc@2x.png"
          />
        </div>

      </div>

      <!-- Cache Items (main content) -->
      <div id="cache-items" class="cache-items">
        <p class="cache-empty">Browse the game to capture data</p>
      </div>

      <!-- Status Notice -->
      <div class="notice import" id="import-notice" style="display: none;">
        <p id="import-status"></p>
      </div>

      <!-- Export/Copy Buttons -->
      <div id="export-container" class="buttons">
        <a id="exportButton" class="button btn-green" disabled>Export</a>
        <a id="copyButton" class="button btn-white" disabled>Copy JSON</a>
      </div>

      <!-- Warning Notice -->
      <div id="warning" class="notice">
        <div class="notice-text">
          <p>
            This extension only reads data your browser has already received.
            It does NOT make additional requests to GBF servers or modify game behavior.
          </p>
          <p>
            While this is the safest approach, third-party tools are technically
            against Terms of Service. Use at your own risk.
          </p>
          <p>
            granblue.team assumes no responsibility for any account suspensions
            or bans that may result from its use.
          </p>
        </div>
        <a id="acknowledgeButton" class="button btn-stroke small"
          >I understand</a
        >
      </div>

      <!-- Auth Buttons (hidden when logged in) -->
      <div id="main-buttons" class="buttons">
        <a
          id="signupButton"
          class="button btn-green"
          target="_blank"
          href="https://next.granblue.team/auth/register"
          >Sign up</a
        >
        <a id="showLogin" class="button btn-white">Log in</a>
      </div>
    </div>

    <!-- Login Pane (slides in from the right) -->
    <div id="loginPane" class="sliding pane login">
      <div class="header">
        <div class="title">
          <p>granblue.team</p>
          <h1>Log in</h1>
        </div>
        <button id="backToMain" class="close">&times;</button>
      </div>
      <div id="loginForm" class="subsection">
        <input type="text" id="loginUsername" placeholder="Email address" />
        <input type="password" id="loginPassword" placeholder="Password" />
        <a id="loginButton" class="button btn-green">Login</a>
      </div>
      <div id="loginStatus"></div>
    </div>

    <!-- Settings Pane (slides in from the right) -->
    <div id="settingsPane" class="sliding pane settings">
      <div class="header">
        <div class="title">
          <p>granblue.team</p>
          <h1>Settings</h1>
        </div>
        <button id="closeSettingsPane" class="close">&times;</button>
      </div>

      <!-- Account Section -->
      <div class="settings-section">
        <div class="settings-label">Account</div>
        <div class="settings-account">
          <span id="settingsUsername" class="settings-username">Not logged in</span>
          <a id="goToProfileButton" class="btn-link">View profile</a>
        </div>
      </div>

      <!-- Environment Section -->
      <div class="settings-section">
        <div class="settings-label">Environment</div>
        <div class="settings-options">
          <label class="settings-option">
            <input type="radio" name="appEnv" value="production" />
            <span>Production</span>
          </label>
          <label class="settings-option">
            <input type="radio" name="appEnv" value="development" checked />
            <span>Development</span>
          </label>
        </div>
      </div>

      <!-- About Section -->
      <div class="settings-section">
        <div class="settings-label">About</div>
        <p class="settings-description">
          This extension passively captures your game data as you browse.
          No additional requests are made to GBF servers.
        </p>
      </div>

      <!-- Footer -->
      <div class="settings-footer">
        <a id="showWarning" class="btn-link">Show extension disclaimer</a>
        <a id="clearCacheButton" class="btn-link">Clear captured data</a>
        <a id="logoutButton" class="button btn-white">Log out</a>
      </div>
    </div>

    <script type="module" src="popup.js"></script>
  </body>
</html>
